(this["webpackJsonpreact-ant-admin"]=this["webpackJsonpreact-ant-admin"]||[]).push([[17],{1e3:function(e,t,n){"use strict";var a=n(9),c=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(35)),i=a(n(51)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(0)),l=a(n(1001)),s=a(n(25)),u=a(n(298)),d=a(n(599)),f=n(43),b=a(n(199)),j=a(n(196));function O(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}var p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},h=o.forwardRef((function(e,t){var n,a=e.prefixCls,c=e.size,O=e.loading,h=e.className,m=void 0===h?"":h,v=e.disabled,g=p(e,["prefixCls","size","loading","className","disabled"]);(0,j.default)("checked"in g||!("value"in g),"Switch","`value` is not a valid prop, do you mean `checked`?");var x=o.useContext(f.ConfigContext),y=x.getPrefixCls,w=x.direction,C=o.useContext(b.default),k=y("switch",a),S=o.createElement("div",{className:"".concat(k,"-handle")},O&&o.createElement(u.default,{className:"".concat(k,"-loading-icon")})),N=(0,s.default)((n={},(0,i.default)(n,"".concat(k,"-small"),"small"===(c||C)),(0,i.default)(n,"".concat(k,"-loading"),O),(0,i.default)(n,"".concat(k,"-rtl"),"rtl"===w),n),m);return o.createElement(d.default,{insertExtraNode:!0},o.createElement(l.default,(0,r.default)({},g,{prefixCls:k,className:N,disabled:v||O,ref:t,loadingIcon:S})))}));h.__ANT_SWITCH=!0,h.displayName="Switch";var m=h;t.default=m},1001:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(19),r=n(28),i=n(0),o=n(25),l=n.n(o),s=n(974),u=n(292),d=i.forwardRef((function(e,t){var n,o=e.prefixCls,d=void 0===o?"rc-switch":o,f=e.className,b=e.checked,j=e.defaultChecked,O=e.disabled,p=e.loadingIcon,h=e.checkedChildren,m=e.unCheckedChildren,v=e.onClick,g=e.onChange,x=e.onKeyDown,y=Object(r.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=Object(s.a)(!1,{value:b,defaultValue:j}),C=Object(c.a)(w,2),k=C[0],S=C[1];function N(e,t){var n=k;return O||(S(n=e),null===g||void 0===g||g(n,t)),n}var I=l()(d,f,(n={},Object(a.a)(n,"".concat(d,"-checked"),k),Object(a.a)(n,"".concat(d,"-disabled"),O),n));return i.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":k,disabled:O,className:I,ref:t,onKeyDown:function(e){e.which===u.a.LEFT?N(!1,e):e.which===u.a.RIGHT&&N(!0,e),null===x||void 0===x||x(e)},onClick:function(e){var t=N(!k,e);null===v||void 0===v||v(t,e)}}),p,i.createElement("span",{className:"".concat(d,"-inner")},k?h:m))}));d.displayName="Switch",t.default=d},1096:function(e,t,n){},1505:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));n(993);var a=n(994),c=n.n(a),r=(n(152),n(44)),i=n.n(r),o=n(3),l=(n(197),n(85)),s=n.n(l),u=n(19),d=n(0),f=n(989),b=n(996),j=n(962),O=(n(1015),n(1016)),p=n.n(O),h=n(13),m=[{itemType:"inputText",itemProps:{name:"f_back"},childProps:{placeholder:"\u56de\u590d\u5185\u5bb9",rows:4}},{itemType:"input",itemProps:{name:"fd_id",hidden:!0}}];function v(e){var t=e.id,n=e.isShow,a=e.onSubmit,c=e.onCancel,r=Object(d.useState)(null),i=Object(u.a)(r,2),o=i[0],l=i[1];Object(d.useEffect)((function(){t&&o&&o.setFieldsValue({fd_id:t})}),[t,o]);return Object(h.jsx)(p.a,{maskClosable:!1,title:"\u56de\u590d",visible:n,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onCancel:function(){o.resetFields(),c(null,!1)},onOk:function(){var e=o.getFieldsValue();a(e)},children:Object(h.jsx)(f.a,{handleInstance:l,items:m})})}var g=n(296),x=(n(1096),[{itemType:"input",itemProps:{name:"address"},childProps:{placeholder:"\u641c\u7d22\u5730\u533a"}},{itemType:"input",itemProps:{name:"context"},childProps:{placeholder:"\u641c\u7d22\u5185\u5bb9"}}]);function y(){var e=Object(d.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)({page:1}),l=Object(u.a)(r,2),O=l[0],p=l[1],m=Object(d.useState)([]),y=Object(u.a)(m,2),w=y[0],C=y[1],k=Object(d.useState)([]),S=Object(u.a)(k,2),N=S[0],I=S[1],T=Object(d.useState)(!1),P=Object(u.a)(T,2),E=P[0],_=P[1],D=Object(d.useState)(0),A=Object(u.a)(D,2),K=A[0],F=A[1],z=Object(d.useState)(!1),M=Object(u.a)(z,2),R=M[0],V=M[1],B=Object(d.useState)(null),H=Object(u.a)(B,2),W=H[0],G=H[1],J={title:"\u64cd\u4f5c",dataIndex:"action",align:"center",render:function(e,t){return t.f_back?"\u5df2\u56de\u590d":Object(h.jsx)(s.a,{type:"link",onClick:function(){return L(t.fd_id,!0)},children:"\u56de\u590d"})}},L=function(e,t){V(t),G(e)},q=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_(!0),Object(g.i)(e).then((function(e){var n=e.data,a=e.status,c=e.mapKey,r=e.total;0===a&&(t&&(c.forEach((function(e){"f_back"!==e.dataIndex&&"f_context"!==e.dataIndex||(e.render=function(e){return e?Object(h.jsx)("div",{className:"text",dangerouslySetInnerHTML:{__html:e}}):"\u6682\u672a\u56de\u590d~"})})),c.push(J),I(c)),F(r),C(n.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:e.m_id})}))))})).finally((function(){_(!1)}))},Q=function(){var e=n.getFieldsValue();p({page:1}),q(e,!1)};return Object(h.jsx)("div",{className:"feedback-container",children:Object(h.jsxs)(c.a,{spinning:E,children:[Object(h.jsxs)(f.a,{layout:"inline",handleInstance:a,items:x,children:[Object(h.jsx)(s.a,{type:"primary",onClick:Q,children:"\u641c\u7d22"}),Object(h.jsx)(s.a,{className:"reset",onClick:function(){n.resetFields(),Q()},children:"\u91cd\u7f6e"})]}),Object(h.jsx)(j.a,{dataSource:w,columns:N,pagination:!1,rowKey:"fd_id",saveKey:"feedbackTable"}),Object(h.jsx)(b.a,{page:O.page,immediately:q,change:function(e){var t=n.getFieldsValue();q(Object(o.a)(Object(o.a)({},e),t),!1),p(e)},total:K}),Object(h.jsx)(v,{id:W,isShow:R,onSubmit:function(e){Object(g.t)(e).then((function(e){var t=e.status,n=e.msg;0===t&&(i.a.success(n),L(null,!1),Q())}))},onCancel:L})]})})}y.route={path:"/statistics/feedback"}},962:function(e,t,n){"use strict";n(303);var a=n(158),c=n.n(a),r=(n(197),n(85)),i=n.n(r),o=(n(1017),n(1019)),l=n.n(o),s=(n(152),n(44)),u=n.n(s),d=(n(598),n(157)),f=n.n(d),b=(n(967),n(968)),j=n.n(b),O=(n(198),n(70)),p=n.n(O),h=(n(965),n(957)),m=n.n(h),v=(n(294),n(125)),g=n.n(v),x=n(28),y=n(19),w=n(3),C=n(0),k=n(1028),S=n(153),N=n(1018),I=n.n(N),T=n(31),P=(n(963),n(13)),E=["className","style"],_=["columns","dataSource","className","children","saveKey"],D=Object(k.c)((function(){return Object(P.jsx)(S.a,{type:"icon_mirrorlightctrl",className:"drag-sort"})})),A=Object(k.b)((function(e){return Object(P.jsx)("tr",Object(w.a)({},e))})),K=Object(k.a)((function(e){return Object(P.jsx)("tbody",Object(w.a)({},e))})),F=[{title:"\u5217\u6392\u5e8f",dataIndex:"sort",className:"drag-visible",render:function(){return Object(P.jsx)(D,{})}},{title:"\u5217\u540d",dataIndex:"title",className:"drag-visible",align:"center"},{title:"\u5bbd\u5ea6",dataIndex:"width",type:"inputNumber"},{title:"\u56fa\u5b9a",dataIndex:"fixed",width:120,type:"switch",align:"center",range:[{v:!1,t:"\u5173"},{v:"left",t:"\u5de6\u56fa\u5b9a"},{v:"right",t:"\u53f3\u56fa\u5b9a"}]},{title:"\u8d85\u51fa\u5bbd\u5ea6\u9690\u85cf",dataIndex:"ellipsis",type:"switch",align:"center",range:[{v:!1,t:"\u5426"},{v:!0,t:"\u662f"}]},{title:"\u5bf9\u9f50",dataIndex:"align",type:"switch",align:"center",range:[{v:"left",t:"\u5de6"},{v:"center",t:"\u5c45\u4e2d"},{v:"right",t:"\u53f3"}]},{title:"\u9690\u85cf",dataIndex:"hidden",type:"switch",align:"center",range:[{v:"hidden",t:"\u9690\u85cf"},{v:"auto",t:"\u663e\u793a"}]}],z={width:80,fixed:!1,ellipsis:!1,align:"left",hidden:"auto"};t.a=function(e){var t=e.columns,n=e.dataSource,a=e.className,r=e.children,o=e.saveKey,s=Object(x.a)(e,_),d=function(e,t){var n=Object(C.useState)(!1),a=Object(y.a)(n,2),c=a[0],r=a[1],i=Object(C.useState)([]),o=Object(y.a)(i,2),l=o[0],s=o[1],d=Object(C.useState)([]),b=Object(y.a)(d,2),O=b[0],h=b[1];function v(e,t,n){return Object(P.jsx)(g.a.Group,{buttonStyle:"solid",value:t,onChange:function(t){return k(e.dataIndex,t.target.value,n)},children:e.range&&e.range.map((function(e){return Object(P.jsx)(p.a,{className:"mt10",justify:"center",children:Object(P.jsx)(m.a,{title:e.t,arrowPointAtCenter:!0,children:Object(P.jsx)(g.a,{value:e.v,children:e.t})})},e.t)}))})}function k(e,t,n){var a=n.dataIndex,c=l.map((function(n){return n.dataIndex===a&&(n[e]=t),n}));s(c)}function S(e,t,n){return Object(P.jsx)(m.a,{title:"\u5931\u53bb\u7126\u70b9\u89e6\u53d1",arrowPointAtCenter:!0,children:Object(P.jsx)(j.a,{min:0,max:800,onStep:function(t){return k(e,t,n)},onBlur:function(t){return k(e,Number(t.target.value),n)},value:t})})}function N(e){var t=e.oldIndex,n=e.newIndex;if(t!==n){var a=I()([].concat(l),t,n).filter((function(e){return!!e}));s(a)}}function _(){var t=e.map((function(e,t){return Object(w.a)(Object(w.a)(Object(w.a)({},z),e),{},{index:t})}));s(t)}return Object(C.useEffect)((function(){var n=Object(T.e)(!0,t);if(t&&n&&e&&e.length===n.length){var a={},c={};if(e.forEach((function(e){return a[e.dataIndex]=e})),n.forEach((function(e){return c[e.dataIndex]=e})),Array.isArray(n)&&n.every((function(e){var t;return e.dataIndex===(null===(t=a[e.dataIndex])||void 0===t?void 0:t.dataIndex)}))){var r=n.map((function(e){return Object(w.a)(Object(w.a)(Object(w.a)({},z),a[e.dataIndex]),e)}));s(r)}else _()}else!n&&e&&e.length!==l.length&&_()}),[t,e]),Object(C.useEffect)((function(){if(0!==l.length){var e=F.map((function(e){return"switch"===e.type&&(e.render=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return v.apply(void 0,[e].concat(n))}),"inputNumber"===e.type&&(e.render=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return S.apply(void 0,[e.dataIndex].concat(n))}),e}));h(e)}}),[l]),{col:l,showDrawer:c,show:function(){r(!0)},hiddin:function(){r(!1)},tbTitle:O,delTbSet:function(){if(!t)return f.a.error({type:"error",description:"\u4f60\u672a\u5b9a\u4e49\u8868\u683c\u7684savaKey\u5c5e\u6027\uff0c\u8bf7\u5b9a\u4e49\u540e\u5728\u70b9\u51fb\u5220\u9664",message:"\u5220\u9664\u5931\u8d25"});Object(T.m)(!0,t),_(),u.a.success("\u5220\u9664\u6210\u529f!")},DraggableContainer:function(e){return Object(P.jsx)(K,Object(w.a)({useDragHandle:!0,disableAutoscroll:!0,helperClass:"row-dragging",onSortEnd:N},e))},DraggableBodyRow:function(e){e.className,e.style;var t=Object(x.a)(e,E),n=l.findIndex((function(e){return e.index===t["data-row-key"]}));return Object(P.jsx)(A,Object(w.a)({index:n},t))},saveTbSet:function(){if(!t)return f.a.error({type:"error",description:"\u4f60\u672a\u5b9a\u4e49\u8868\u683c\u7684savaKey\u5c5e\u6027\uff0c\u8bf7\u5b9a\u4e49\u540e\u4fdd\u5b58",message:"\u4fdd\u5b58\u5931\u8d25"});Object(T.r)(!0,t,l),u.a.success("\u4fdd\u5b58\u8bbe\u7f6e\u6210\u529f!")}}}(t,o),b=d.showDrawer,O=d.show,h=d.hiddin,v=d.col,k=d.tbTitle,N=d.delTbSet,D=d.DraggableContainer,M=d.DraggableBodyRow,R=d.saveTbSet;return Object(P.jsxs)("div",{className:"react-ant-table",children:[Object(P.jsx)(p.a,{className:"set",justify:"end",children:Object(P.jsx)(S.a,{type:"icon_edit",onClick:O})}),Object(P.jsx)(l.a,Object(w.a)(Object(w.a)({columns:v.filter((function(e){return"hidden"!==e.hidden})),dataSource:n,className:a?"table-show-container ".concat(a):"table-show-container"},s),{},{children:r})),Object(P.jsxs)(c.a,{className:"table-drawer",width:1e3,onClose:h,maskClosable:!0,visible:b,title:"\u8868\u683c\u663e\u793a\u8bbe\u7f6e",children:[Object(P.jsx)(l.a,{columns:k,dataSource:v,rowKey:"index",components:{body:{wrapper:D,row:M}},pagination:!1}),Object(P.jsxs)(p.a,{justify:"center",className:"mt20",children:[Object(P.jsx)(i.a,{type:"primary",onClick:R,children:"\u4fdd\u5b58\u6b64\u8868\u683c\u8bbe\u7f6e\uff0c\u4e0b\u6b21\u6253\u5f00\u9ed8\u8ba4\u542f\u7528"}),Object(P.jsx)(i.a,{danger:!0,type:"ghost",className:"del",onClick:N,children:"\u5220\u9664\u5df2\u4fdd\u5b58\u7684\u8bbe\u7f6e"})]})]})]})}},963:function(e,t,n){},989:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(19),c=n(28),r=(n(986),n(987)),i=n.n(r),o=n(3),l=(n(967),n(968)),s=n.n(l),u=(n(998),n(1e3)),d=n.n(u),f=(n(294),n(125)),b=n.n(f),j=(n(977),n(966)),O=n.n(j),p=(n(956),n(961)),h=n.n(p),m=n(0),v=n(13),g=["items","handleInstance","children"];function x(e){var t=e.itemType,n=e.childProps,a=e.itemProps,c=function(e){switch(e){case"input":return h.a;case"select":return O.a;case"radio":return b.a.Group;case"switch":return d.a;case"inputNumber":return s.a;case"inputText":return h.a.TextArea;default:return null}}(t);return c?Object(m.createElement)(i.a.Item,Object(o.a)(Object(o.a)({},a),{},{key:a.name}),Object(v.jsx)(c,Object(o.a)({},n))):c}function y(e){var t=e.items,n=e.handleInstance,r=e.children,l=Object(c.a)(e,g),s=i.a.useForm(),u=Object(a.a)(s,1)[0],d=Object(m.useState)(null),f=Object(a.a)(d,2),b=f[0],j=f[1];return Object(m.useEffect)((function(){u&&n&&n(u)}),[u,n]),Object(m.useEffect)((function(){if(Array.isArray(t)&&t.length){var e=t.map(x).filter(Boolean);j(e)}}),[t]),Object(v.jsxs)(i.a,Object(o.a)(Object(o.a)({className:"myForm",form:u},l),{},{children:[b,r]}))}},996:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(198);var a=n(70),c=n.n(a),r=(n(1012),n(1013)),i=n.n(r),o=n(19),l=n(0),s=(n(997),n(13)),u=[10,20,50,100];function d(e){var t=e.total,n=e.page,a=void 0===n?1:n,r=e.change,d=e.immediately,f=Object(l.useState)(u[0]),b=Object(o.a)(f,2),j=b[0],O=b[1];Object(l.useEffect)((function(){"function"===typeof d&&d({page:a,pagesize:j})}),[]);return Object(s.jsx)(c.a,{justify:"end",className:"pagination-wapper",children:Object(s.jsx)(i.a,{showSizeChanger:!0,onChange:function(e,t){O(t),"function"===typeof r&&r({page:e,pagesize:t})},current:a,total:t,pageSizeOptions:u})})}},997:function(e,t,n){},998:function(e,t,n){"use strict";n(84),n(999)},999:function(e,t,n){}}]);
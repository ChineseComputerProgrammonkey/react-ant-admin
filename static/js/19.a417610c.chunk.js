(this["webpackJsonpreact-ant-admin"]=this["webpackJsonpreact-ant-admin"]||[]).push([[19],{1126:function(e,t,n){},1135:function(e,t,n){"use strict";n.r(t);n(1136);var c=n(1138),r=n.n(c),a=(n(168),n(84)),s=n.n(a),i=n(48),o=n.n(i),u=n(83),l=(n(0),n(133)),j=n(27),b=n(931),p=n(9);t.default=Object(l.b)((function(e){return{openMenus:e.menu.openedMenu}}),(function(e){return{filterOpenKeyFn:function(t){return e(Object(b.b)(t))}}}))((function(e){var t=function(e){var t=e.openMenus,n=e.history,c=e.filterOpenKeyFn,r=e.status,a=void 0===r?"404":r,s=e.errTitle,i=void 0===s?"404":s,l=e.subTitle;return{status:a,errTitle:i,subTitle:void 0===l?"Sorry, the page you visited does not exist.":l,back:function(){var e=Object(u.a)(o.a.mark((function e(){var r,a,s,i,u,l,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(j.f)(),!(t.length<=1)){e.next=11;break}return c(r),e.next=5,Object(j.g)();case 5:if(0!==(a=e.sent).openedMenu.length){e.next=8;break}return e.abrupt("return",n.replace("/"));case 8:return s=a.openedMenu[0],i=s.parentPath,u=s.path,n.replace(i+u),e.abrupt("return");case 11:l=t.filter((function(e){return e.path!==r})),c(r),b=l[l.length-1],n.replace(b.path);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}(e),n=t.status,c=t.errTitle,a=t.subTitle,i=t.back;return Object(p.jsx)(r.a,{status:n,title:c,subTitle:a,extra:Object(p.jsx)(s.a,{type:"primary",onClick:i,children:"Go Back"})})}))},1145:function(e,t,n){},1149:function(e,t,n){},1367:function(e,t,n){"use strict";n.r(t);n(927);var c=n(934),r=n.n(c),a=n(18),s=n(0),i=n.n(s),o=n(879),u=(n(886),n(887)),l=n.n(u),j=(n(954),n(964)),b=n.n(j),p=n(2),d=(n(955),n(896)),f=n.n(d),O=n.p+"static/media/logo.51586d6b.svg",h=n(128),m=n(133),x=n(244),y=function(e){return{type:x.b,info:e}},v=n(27),g=n(9),k=l.a.Header,N=function(e){var t=e.logout;return Object(g.jsx)(f.a,{className:"right-down",children:Object(g.jsx)(f.a.Item,{onClick:t,icon:Object(g.jsx)(h.a,{type:"icon_disconnectdevice"}),children:"\u9000\u51fa\u767b\u5f55"},"logout")})},K=function(e){return e},w=Object(m.b)((function(e){return{userInfo:e.user}}),(function(e){return{clearStateUser:function(){e({type:x.a})}}}))((function(e){var t=e.userInfo,n=e.clearStateUser,c=e.children;return Object(g.jsxs)(k,{className:"header",children:[Object(g.jsxs)("div",{className:"logo",children:[Object(g.jsx)("img",{src:O,alt:"logo"}),Object(g.jsx)("span",{children:"react-ant-admin"})]}),c,Object(g.jsx)("div",{className:"right",children:Object(g.jsx)(b.a,{placement:"bottomCenter",getPopupContainer:K,overlay:Object(g.jsx)(N,{logout:function(){Object(v.d)([v.c,v.b,v.a]),t&&Object(v.t)(!0,v.c,Object(p.a)(Object(p.a)({},t),{},{isLogin:!1})),Object(v.q)(),window.location.reload(),n(t)}}),children:Object(g.jsxs)("div",{children:["\u7ba1\u7406\u5458\uff1a",t.username]})})})]})})),M=(n(250),n(95)),S=n.n(M),T=(n(1117),n(1119)),I=n.n(T),C=(n(168),n(84)),P=n.n(C),L=n(121),q=n(931),F=n(74),_=l.a.Sider,E=f.a.SubMenu,R=function(e){var t=e.children,n=Object(s.useState)(!1),c=Object(a.a)(n,2),r=c[0],i=c[1];return Object(g.jsx)(I.a,{children:Object(g.jsxs)(_,{width:200,collapsed:r,className:"",children:[t,Object(g.jsx)("div",{className:"fold-control fixed",children:Object(g.jsxs)(P.a,{onClick:function(e){i(!r),Object(v.v)(e)},children:[r?"\u5c55\u5f00":"\u6536\u8d77",Object(g.jsx)(h.a,{type:r?"icon_next":"icon_back"})]})})]})})},U=function(e){var t=e.children;return Object(g.jsx)(S.a,{sm:6,md:10,lg:15,className:"fl",children:t})},z=Object(m.b)((function(e){return{openKeys:e.menu.openMenuKey,selectedKeys:e.menu.selectMenuKey,layout:e.layout}}),(function(e){return{setOpenKeys:function(t){return e(Object(q.c)(t))}}}))((function(e){var t=e.openKeys,n=e.selectedKeys,c=e.setOpenKeys,r=e.layout,i=Object(s.useState)([]),u=Object(a.a)(i,2),l=u[0],j=u[1];Object(s.useEffect)((function(){Object(L.b)().then((function(e){e.data&&j(e.data)}))}),[]);var b=Object(s.useMemo)((function(){return l.map((function(e){return e.children?Object(g.jsx)(E,{title:e.title,icon:Object(g.jsx)(h.a,{type:e.icon}),children:e.children.map((function(t){return Object(g.jsx)(f.a.Item,{icon:Object(g.jsx)(h.a,{type:t.icon}),children:Object(g.jsx)(o.Link,{onClick:v.v,to:e.path+t.path,children:t.title})},t.key)}))},e.key):Object(g.jsx)(f.a.Item,{icon:Object(g.jsx)(h.a,{type:e.icon}),children:Object(g.jsx)(o.Link,{to:e.path,children:e.title})},e.key)}))}),[l]),p=Object(g.jsx)(f.a,{mode:r===F.a?"horizontal":"inline",triggerSubMenuAction:"click",className:r===F.a?"layout-silder-menu col":"layout-silder-menu hide-scrollbar",onOpenChange:function(e){c(e)},openKeys:t,selectedKeys:n,children:b}),d=r===F.a?U:R;return Object(g.jsx)(d,{children:p})})),A=(n(1124),n(1127)),B=n.n(A),D=(n(129),n(44)),V=n.n(D),H=n(48),J=n.n(H),G=n(83),W=n(8),X=n(1353);n(1126);function Z(e){var t=e.rangeVal,n=e.onClose,c=e.currentKey,r=Object(s.useState)([]),i=Object(a.a)(r,2),u=i[0],l=i[1];Object(s.useEffect)((function(){var e=Object(W.a)(u);t.forEach((function(t){u.find((function(e){return e.path===t.path}))||e.push(t)})),e=e.filter((function(e){return t.find((function(t){return t.path===e.path}))})),l(e)}),[t]);var j=Object(s.useCallback)((function(e){if(e.destination){var t=function(e,t,n){var c=Array.from(e),r=c.splice(t,1),s=Object(a.a)(r,1)[0];return c.splice(n,0,s),c}(u,e.source.index,e.destination.index);l(t)}}),[u]);return Object(g.jsx)(X.a,{onDragEnd:j,children:Object(g.jsx)(X.c,{droppableId:"droppable",direction:"horizontal",children:function(e,t){return Object(g.jsxs)("div",Object(p.a)(Object(p.a)({},e.droppableProps),{},{ref:e.innerRef,className:"dnd-body hide-scrollbar",children:[u.map((function(e,t){return Object(g.jsx)(X.b,{index:t,draggableId:e.path,children:function(t,r){return Object(g.jsxs)(o.Link,Object(p.a)(Object(p.a)(Object(p.a)({className:c===e.path?"dnd-items active":"dnd-items",ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:Object(p.a)({},t.draggableProps.style),to:e.path,children:[e.title,Object(g.jsx)(h.a,{className:"anticon-close",type:"icon_close",onClick:function(t){t.preventDefault(),t.stopPropagation(),function(e){var t=u.filter((function(t){return t.path!==e.path})),r=t[t.length-1];r&&l(t),n(e.path,r,e.path===c)}(e)}})]}))}},e.path)})),e.placeholder]}))}})})}var Q=n(845);function Y(e,t){return e.find((function(e){return e.key===t}))}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(G.a)(J.a.mark((function e(t){var n,c,r,a,s,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.b)();case 2:if(n=e.sent,c=Object(v.o)(n.data),r=[],a=c.find((function(e){return e.key===t}))){e.next=8;break}return e.abrupt("return",[]);case 8:for(r.unshift(a),s=a.parentKey;Y(c,s);)i=Y(c,s),r.unshift(i),s=i.parentKey;return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=Object(m.b)((function(e){return{openedMenu:e.menu.openedMenu,childKey:e.menu.selectMenuKey}}),(function(e){return{filterKey:function(t){return e(Object(q.b)(t))}}}))(Object(Q.o)((function(e){var t=e.openedMenu,n=e.filterKey,c=e.history,r=e.childKey,i=Object(s.useState)([]),o=Object(a.a)(i,2),u=o[0],l=o[1];Object(s.useEffect)((function(){function e(){return(e=Object(G.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(r[0]);case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]);var j=Object(s.useCallback)((function(e,t,r){t?n(e):V.a.error("\u6700\u540e\u4e00\u4e2a\u9009\u9879\u83dc\u5355\u4e0d\u53ef\u5173\u95ed"),t&&r&&c.replace(t.path)}),[c,n]);return Object(g.jsxs)("div",{className:"top-menu-wrapper",children:[u.length>0&&Object(g.jsx)(B.a,{className:"top-breadcrumb",children:u.map((function(e){return Object(g.jsxs)(B.a.Item,{children:[Object(g.jsx)(h.a,{type:e.icon}),Object(g.jsx)("span",{className:"title",children:e.title})]},e.key)}))}),Object(g.jsx)("div",{className:"top-menu",children:Object(g.jsx)(Z,{currentKey:Object(v.f)(),rangeVal:t,onClose:j})})]})}))),ne=l.a.Footer;function ce(){return Object(g.jsxs)(ne,{className:"footer",children:[Object(g.jsx)("p",{children:Object(g.jsx)("a",{href:"https://azhengpersonalblog.top/doc-react-ant-admin",target:"_blank",rel:"noreferrer",children:"react-ant-admin\u6587\u6863\u5730\u5740"})}),Object(g.jsx)("p",{children:Object(g.jsx)("a",{href:"https://qm.qq.com/cgi-bin/qm/qr?k=Wo_kXUOA-mTBviZ6gF4H912AKdE5vTML&jump_from=webapi",target:"_blank",rel:"noreferrer",children:"qq\u4ea4\u6d41\u7fa4"})}),Object(g.jsx)("p",{children:"\u5907\u6848/\u8bb8\u53ef\u8bc1\u7f16\u53f7\uff1a\u6e58ICP\u590720007569\u53f7"}),Object(g.jsx)("p",{children:"react-ant-admin \xa92021 Created by azheng"})]})}var re=n(1133),ae=[{path:"/details/person",components:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(6),n.e(15)]).then(n.bind(null,1359))}},{path:"/form/index",components:function(){return Promise.all([n.e(0),n.e(17),n.e(23)]).then(n.bind(null,1360))}},{path:"/icons",components:function(){return n.e(22).then(n.bind(null,1361))}},{path:"/list/card",components:function(){return Promise.all([n.e(3),n.e(5),n.e(6),n.e(13),n.e(24)]).then(n.bind(null,1362))}},{path:"/list/search",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(18)]).then(n.bind(null,1363))}},{path:"/power/menu",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,1374))}},{path:"/power/type",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,1375))}},{path:"/power/user",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(16)]).then(n.bind(null,1376))}},{path:"/statistics/visitor",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(14)]).then(n.bind(null,1377))}}],se=n(272),ie=Object(se.a)((function(){return Promise.resolve().then(n.bind(null,1135))})),oe=[{path:"/",key:"index",to:"/details/person",components:Q.c},{path:"/result/404",components:ie},{path:"/result/403",status:"403",errTitle:"403",subTitle:"Sorry, you don't have access to this page.",components:ie},{path:"/result/500",status:"500",errTitle:"500",subTitle:"Sorry, the server is reporting an error.",components:ie},{path:"*",title:"\u9875\u9762\u4e0d\u5b58\u5728",key:"404",keepAlive:!0,components:ie}],ue=ae.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{components:Object(se.a)(e.components)})}));ue.push.apply(ue,oe);var le=ue,je=n(24),be=n(25),pe=n(35),de=n(36),fe=n(37),Oe=n(1135),he=["path","title","pageKey","openMenus","setOpenKeys","setSelectedKeys","addOpenedMenuFn","menuList","components"],me=function(e){Object(de.a)(n,e);var t=Object(fe.a)(n);function n(){var e;return Object(be.a)(this,n),(e=t.apply(this,arguments)).setInfo=Object(G.a)(J.a.mark((function t(){var n,c,r,a,s,i,o,u,l;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,c=n.title,r=n.pageKey,a=n.openMenus,s=n.setOpenKeys,i=n.setSelectedKeys,c){t.next=3;break}return t.abrupt("return");case 3:return document.title=c,o=Object(v.f)(),u=a.find((function(e){return e.path===o})),i([r]),t.next=9,Object(v.l)(r);case 9:l=t.sent,s(l=l?[l]:[]),e.addMenus(u,r,o,c);case 13:case"end":return t.stop()}}),t)}))),e.componentDidRecover=function(){e.setInfo(),e.scrollToTop()},e.scrollToTop=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},e.addMenus=function(t,n,c,r){t||e.props.addOpenedMenuFn({key:n,path:c,title:r})},e.props.cacheLifecycles&&e.props.cacheLifecycles.didRecover(e.componentDidRecover),e}return Object(pe.a)(n,[{key:"componentDidMount",value:function(){this.setInfo(),this.scrollToTop()}},{key:"render",value:function(){var e=this.props,t=e.path,n=(e.title,e.pageKey,e.openMenus,e.setOpenKeys,e.setSelectedKeys,e.addOpenedMenuFn,e.menuList),c=e.components,r=Object(je.a)(e,he);return!n.find((function(e){return(e.parentPath||"")+e.path===t}))&&"/"!==t&&"*"!==t?Object(g.jsx)(Oe.default,Object(p.a)(Object(p.a)({},r),{},{status:"403",errTitle:"\u6743\u9650\u4e0d\u591f",subTitle:"Sorry, you are not authorized to access this page."})):Object(g.jsx)(c,Object(p.a)({},r))}}]),n}(i.a.Component),xe=Object(m.b)((function(e){return{openMenus:e.menu.openedMenu}}),(function(e){return{addOpenedMenuFn:function(t){return e(Object(q.a)(t))},setSelectedKeys:function(t){return e(Object(q.d)(t))},setOpenKeys:function(t){return e(Object(q.c)(t))}}}))(me);var ye=function(){var e=function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(null),i=Object(a.a)(r,2),o=i[0],u=i[1],l=Object(s.useState)([]),j=Object(a.a)(l,2),b=j[0],d=j[1];return Object(s.useEffect)((function(){Object(L.b)().then((function(e){var t=Object(v.o)(e.data),n=le.map((function(e){var n=t.find((function(t){return(t.parentPath||"")+t.path===e.path}));return n?e=Object(p.a)(Object(p.a)({},n),e):e.key=e.path,e}));t&&t.length&&(c(n),d(t))}))}),[]),Object(s.useEffect)((function(){if(n.length&&b.length){var e=n.map((function(e){var t=e.key,n=e.path,c="true"===e.keepAlive?re.CacheRoute:Q.d;return Object(g.jsx)(c,{exact:!0,path:n,render:function(n){return Object(g.jsx)(xe,Object(p.a)(Object(p.a)(Object(p.a)({},n),e),{},{menuList:b,pageKey:t}))}},t)}));u(e)}}),[n,b]),{routerBody:o}}().routerBody;return Object(g.jsx)(re.CacheSwitch,{children:e})},ve=l.a.Content,ge=function(e){var t=e.visibel;return Object(g.jsxs)(l.a,{className:"my-layout-body",children:[Object(g.jsx)(w,{children:Object(g.jsx)(z,{})}),Object(g.jsx)(l.a,{children:Object(g.jsxs)(l.a,{className:"layout-content-wrap",children:[t.topMenu&&Object(g.jsx)(te,{}),Object(g.jsx)(ve,{className:" layout-content-body",children:Object(g.jsx)(ye,{})}),t.footer&&Object(g.jsx)(ce,{})]})})]})},ke=l.a.Content,Ne=function(e){var t=e.visibel;return Object(g.jsxs)(l.a,{className:"my-layout-body",children:[Object(g.jsx)(w,{}),Object(g.jsxs)(l.a,{children:[Object(g.jsx)(z,{}),Object(g.jsxs)(l.a,{className:"layout-content-wrap",children:[t.topMenu&&Object(g.jsx)(te,{}),Object(g.jsx)(ke,{className:" layout-content-body",children:Object(g.jsx)(ye,{})}),t.footer&&Object(g.jsx)(ce,{})]})]})]})},Ke=l.a.Content,we=function(e){var t=e.visibel;return Object(g.jsxs)(l.a,{className:"my-layout-body twoflanks",children:[Object(g.jsx)(z,{}),Object(g.jsxs)(l.a,{className:"layout-content-wrap reset-padding",children:[Object(g.jsx)(w,{}),t.topMenu&&Object(g.jsx)(te,{className:"top-menu"}),Object(g.jsx)(Ke,{className:"layout-content-body",children:Object(g.jsx)(ye,{})}),t.footer&&Object(g.jsx)(ce,{})]})]})};n(1145);var Me=Object(m.b)((function(e){return{LayoutMode:e.layout,visibel:e.componentsVisible}}),null)((function(e){var t=e.LayoutMode,n=e.visibel;switch(t){case F.a:return Object(g.jsx)(ge,{visibel:n});case F.b:return Object(g.jsx)(Ne,{visibel:n});case F.c:return Object(g.jsx)(we,{visibel:n});default:return null}})),Se=(n(966),n(933)),Te=n.n(Se),Ie=(n(880),n(881)),Ce=n.n(Ie),Pe=(n(852),n(853)),Le=n.n(Pe),qe=n(253),Fe=(n(1149),[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]),_e=[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}];var Ee=Object(m.b)(null,(function(e){return{setUserInfo:function(t){return e(y(t))}}}))((function(e){var t=function(e){var t=Object(s.useState)(!1),n=Object(a.a)(t,2),c=n[0],r=n[1];return{btnLoad:c,onFinish:function(t){r(!0),Object(qe.r)(t).then((function(n){var c=n.data,a=n.msg,s=n.status,i=n.token;r(!1),1!==s&&(Object(v.q)(i),c.isLogin=!0,V.a.success(a),t.remember&&Object(v.r)(c),e(c))})).catch((function(){r(!1)}))}}}(e.setUserInfo),n=t.btnLoad,c=t.onFinish;return Object(g.jsx)("div",{className:"login-container",children:Object(g.jsxs)("div",{className:"wrapper",children:[Object(g.jsx)("div",{className:"title",children:"react-ant-admin"}),Object(g.jsx)("div",{className:"welcome",children:"\u6b22\u8fce\u4f7f\u7528\uff0c\u8bf7\u5148\u767b\u5f55"}),Object(g.jsxs)(Ce.a,{className:"login-form",initialValues:Object(p.a)({remember:!0},Object(v.k)()),onFinish:c,children:[Object(g.jsx)(Ce.a.Item,{name:"account",rules:Fe,children:Object(g.jsx)(Le.a,{prefix:Object(g.jsx)(h.a,{type:"icon_nickname"}),placeholder:"\u8d26\u53f7:admin/user"})}),Object(g.jsx)(Ce.a.Item,{name:"pswd",rules:_e,children:Object(g.jsx)(Le.a,{prefix:Object(g.jsx)(h.a,{type:"icon_locking"}),type:"password",placeholder:"\u5bc6\u7801:admin123/user123"})}),Object(g.jsx)(Ce.a.Item,{children:Object(g.jsx)(Ce.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(Te.a,{children:"\u8bb0\u4f4f\u6211"})})}),Object(g.jsxs)(Ce.a.Item,{className:"btns",children:[Object(g.jsx)(P.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:n,children:"\u767b\u5f55"}),Object(g.jsx)(P.a,{htmlType:"reset",children:"\u91cd\u7f6e"})]})]})]})})}));t.default=Object(m.b)((function(e){return{userInfo:e.user}}),(function(e){return{setUser:function(t){return e(y(t))}}}))((function(e){var t=e.userInfo,n=e.setUser,c=Object(s.useState)(!0),i=Object(a.a)(c,2),u=i[0],l=i[1];return Object(s.useEffect)((function(){if(!t){var e=Object(v.k)();return e&&!0===e.isLogin&&n(e),l(!1)}l(!1)}),[]),u?Object(g.jsx)(r.a,{size:"large",wrapperClassName:"loading-page",tip:"Loading...",children:Object(g.jsx)("div",{className:"loading-page"})}):t?Object(g.jsx)(o.BrowserRouter,{basename:L.a,children:Object(g.jsx)(Me,{})}):Object(g.jsx)(Ee,{})}))},931:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i}));var c=n(126),r=function(e){return{type:c.a,menuItem:e}},a=function(e){return{type:c.c,keys:e}},s=function(e){return{type:c.d,keys:e}},i=function(e){return{type:c.b,key:e}}}}]);
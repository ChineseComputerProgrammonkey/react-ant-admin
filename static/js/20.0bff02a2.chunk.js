(this["webpackJsonpreact-ant-admin"]=this["webpackJsonpreact-ant-admin"]||[]).push([[20],{1155:function(e,t,n){},1164:function(e,t,n){"use strict";n.r(t);n(1165);var c=n(1167),r=n.n(c),a=(n(178),n(88)),s=n.n(a),i=n(48),o=n.n(i),u=n(87),l=(n(0),n(140)),j=n(29),b=n(889),p=n(9);t.default=Object(l.b)((function(e){return{openMenus:e.menu.openedMenu}}),(function(e){return{filterOpenKeyFn:function(t){return e(Object(b.b)(t))}}}))((function(e){var t=function(e){var t=e.openMenus,n=e.history,c=e.filterOpenKeyFn,r=e.status,a=void 0===r?"404":r,s=e.errTitle,i=void 0===s?"404":s,l=e.subTitle,b=void 0===l?"Sorry, the page you visited does not exist.":l,p=function(){var e=Object(u.a)(o.a.mark((function e(){var r,a,s,i,u,l,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.location.pathname+(n.location.hash||n.location.search),!(t.length<=1)){e.next=11;break}return c(r),e.next=5,Object(j.f)();case 5:if(0!==(a=e.sent).openedMenu.length){e.next=8;break}return e.abrupt("return",n.replace("/"));case 8:return s=a.openedMenu[0],i=s.parentPath,u=s.path,n.replace(i+u),e.abrupt("return");case 11:l=t.filter((function(e){return e.path!==r})),c(r),b=l[l.length-1],n.replace(b.path);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{status:a,errTitle:i,subTitle:b,back:p}}(e),n=t.status,c=t.errTitle,a=t.subTitle,i=t.back;return Object(p.jsx)(r.a,{status:n,title:c,subTitle:a,extra:Object(p.jsx)(s.a,{type:"primary",onClick:i,children:"Go Back"})})}))},1178:function(e,t,n){},1182:function(e,t,n){},1395:function(e,t,n){"use strict";n.r(t);n(907);var c=n(909),r=n.n(c),a=n(18),s=n(0),i=n.n(s),o=n(908),u=(n(921),n(922)),l=n.n(u),j=(n(978),n(989)),b=n.n(j),p=n(2),d=(n(979),n(939)),f=n.n(d),h=n.p+"static/media/logo.51586d6b.svg",O=n(136),m=n(140),y=n(258),x=function(e){return{type:y.b,info:e}},v=n(29),g=n(9),k=l.a.Header,M=function(e){var t=e.logout;return Object(g.jsx)(f.a,{className:"right-down",children:Object(g.jsx)(f.a.Item,{onClick:t,icon:Object(g.jsx)(O.a,{type:"icon_disconnectdevice"}),children:"\u9000\u51fa\u767b\u5f55"},"logout")})},N=function(e){return e},w=Object(m.b)((function(e){return{userInfo:e.user}}),(function(e){return{clearStateUser:function(){e({type:y.a})}}}))((function(e){var t=e.userInfo,n=e.clearStateUser,c=e.children;return Object(g.jsxs)(k,{className:"header",children:[Object(g.jsxs)("div",{className:"logo",children:[Object(g.jsx)("img",{src:h,alt:"logo"}),Object(g.jsx)("span",{children:"react-ant-admin"})]}),c,Object(g.jsx)("div",{className:"right",children:Object(g.jsx)(b.a,{placement:"bottomCenter",getPopupContainer:N,overlay:Object(g.jsx)(M,{logout:function(){Object(v.d)([v.c,v.b,v.a]),t&&Object(v.t)(!0,v.c,Object(p.a)(Object(p.a)({},t),{},{isLogin:!1})),Object(v.q)(),window.location.reload(),n(t)}}),children:Object(g.jsxs)("div",{children:["\u7ba1\u7406\u5458\uff1a",t.username]})})})]})})),K=(n(265),n(101)),S=n.n(K),T=(n(1146),n(1148)),I=n.n(T),P=(n(178),n(88)),C=n.n(P),L=(n(288),n(287),n(889)),q=n(76),F=l.a.Sider,_=f.a.SubMenu,E=function(e){var t=e.children,n=Object(s.useState)(!1),c=Object(a.a)(n,2),r=c[0],i=c[1];return Object(g.jsx)(I.a,{children:Object(g.jsxs)(F,{width:200,collapsed:r,className:"",children:[t,Object(g.jsx)("div",{className:"fold-control fixed",children:Object(g.jsxs)(C.a,{onClick:function(e){i(!r),Object(v.v)(e)},children:[r?"\u5c55\u5f00":"\u6536\u8d77",Object(g.jsx)(O.a,{type:r?"icon_next":"icon_back"})]})})]})})},z=function(e){var t=e.children;return Object(g.jsx)(S.a,{sm:6,md:10,lg:15,className:"fl",children:t})},R=function(e){return!1===e.isShowOnMenu?null:Object(g.jsx)(f.a.Item,{icon:Object(g.jsx)(O.a,{type:e.icon}),children:Object(g.jsx)(o.Link,{to:(e.parentPath||"")+e.path,children:e.title})},e.key)},U=function(e){return!1===e.isShowOnMenu?null:e.children?Object(g.jsx)(_,{title:e.title,icon:Object(g.jsx)(O.a,{type:e.icon}),children:e.children.map(R)},e.key):R(e)},A=Object(m.b)((function(e){return{openKeys:e.menu.openMenuKey,selectedKeys:e.menu.selectMenuKey,layout:e.layout,menuList:e.menu.menuList}}),(function(e){return{setOpenKeys:function(t){return e(Object(L.c)(t))}}}))((function(e){var t=e.openKeys,n=e.selectedKeys,c=e.setOpenKeys,r=e.layout,a=e.menuList,i=Object(s.useMemo)((function(){return a&&a.map(U)}),[a]),o=r===q.a?z:E;return Object(g.jsx)(o,{children:Object(g.jsx)(f.a,{mode:r===q.a?"horizontal":"inline",triggerSubMenuAction:"click",className:r===q.a?"layout-silder-menu col":"layout-silder-menu hide-scrollbar",onOpenChange:function(e){c(e)},openKeys:t,selectedKeys:n,children:i})})})),B=(n(1153),n(1156)),D=n.n(B),H=(n(135),n(46)),V=n.n(H),J=n(48),G=n.n(J),W=n(87),X=n(8),Z=n(1381);n(1155);function Q(e){var t=e.rangeVal,n=e.onClose,c=e.currentKey,r=Object(s.useState)([]),i=Object(a.a)(r,2),u=i[0],l=i[1];Object(s.useEffect)((function(){var e=Object(X.a)(u);t.forEach((function(t){u.find((function(e){return e.path===t.path}))||e.push(t)})),e=e.filter((function(e){return t.find((function(t){return t.path===e.path}))})),l(e)}),[t]);var j=Object(s.useCallback)((function(e){if(e.destination){var t=function(e,t,n){var c=Array.from(e),r=c.splice(t,1),s=Object(a.a)(r,1)[0];return c.splice(n,0,s),c}(u,e.source.index,e.destination.index);l(t)}}),[u]);return Object(g.jsx)(Z.a,{onDragEnd:j,children:Object(g.jsx)(Z.c,{droppableId:"droppable",direction:"horizontal",children:function(e,t){return Object(g.jsxs)("div",Object(p.a)(Object(p.a)({},e.droppableProps),{},{ref:e.innerRef,className:"dnd-body hide-scrollbar",children:[u.map((function(e,t){return Object(g.jsx)(Z.b,{index:t,draggableId:e.path,children:function(t,r){return Object(g.jsxs)(o.Link,Object(p.a)(Object(p.a)(Object(p.a)({className:c===e.path?"dnd-items active":"dnd-items",ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:Object(p.a)({},t.draggableProps.style),to:e.path,children:[e.title,Object(g.jsx)(O.a,{className:"anticon-close",type:"icon_close",onClick:function(t){t.preventDefault(),t.stopPropagation(),function(e){var t=u.filter((function(t){return t.path!==e.path})),r=t[t.length-1];r&&l(t),n(e.path,r,e.path===c)}(e)}})]}))}},e.path)})),e.placeholder]}))}})})}var Y=n(867),$=n(184);function ee(e,t){return e.find((function(e){return e.key===t}))}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(W.a)(G.a.mark((function e(t){var n,c,r,a,s,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.b)();case 2:if(n=e.sent,c=Object(v.o)(n.data),r=[],a=c.find((function(e){return e.key===t}))){e.next=8;break}return e.abrupt("return",[]);case 8:for(r.unshift(a),s=a.parentKey;ee(c,s);)i=ee(c,s),r.unshift(i),s=i.parentKey;return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=Object(m.b)((function(e){return{openedMenu:e.menu.openedMenu,childKey:e.menu.selectMenuKey}}),(function(e){return{filterKey:function(t){return e(Object(L.b)(t))}}}))(Object(Y.o)((function(e){var t=e.openedMenu,n=e.filterKey,c=e.history,r=e.childKey,i=Object(s.useState)([]),o=Object(a.a)(i,2),u=o[0],l=o[1];Object(s.useEffect)((function(){function e(){return(e=Object(W.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(r[0]);case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]);var j=Object(s.useCallback)((function(e,t,r){t?n(e):V.a.error("\u6700\u540e\u4e00\u4e2a\u9009\u9879\u83dc\u5355\u4e0d\u53ef\u5173\u95ed"),t&&r&&c.replace(t.path)}),[c,n]);return Object(g.jsxs)("div",{className:"top-menu-wrapper",children:[u.length>0&&Object(g.jsx)(D.a,{className:"top-breadcrumb",children:u.map((function(e){return Object(g.jsxs)(D.a.Item,{children:[Object(g.jsx)(O.a,{type:e.icon}),Object(g.jsx)("span",{className:"title",children:e.title})]},e.key)}))}),Object(g.jsx)("div",{className:"top-menu",children:Object(g.jsx)(Q,{currentKey:c.location.pathname+(c.location.hash||c.location.search),rangeVal:t,onClose:j})})]})}))),re=l.a.Footer;function ae(){return Object(g.jsxs)(re,{className:"footer",children:[Object(g.jsx)("p",{children:Object(g.jsx)("a",{href:"https://azhengpersonalblog.top/doc-react-ant-admin",target:"_blank",rel:"noreferrer",children:"react-ant-admin\u6587\u6863\u5730\u5740"})}),Object(g.jsx)("p",{children:Object(g.jsx)("a",{href:"https://qm.qq.com/cgi-bin/qm/qr?k=Wo_kXUOA-mTBviZ6gF4H912AKdE5vTML&jump_from=webapi",target:"_blank",rel:"noreferrer",children:"qq\u4ea4\u6d41\u7fa4"})}),Object(g.jsx)("p",{children:"\u5907\u6848/\u8bb8\u53ef\u8bc1\u7f16\u53f7\uff1a\u6e58ICP\u590720007569\u53f7"}),Object(g.jsx)("p",{children:"react-ant-admin \xa92021 Created by azheng"})]})}var se=n(1162),ie=[{path:"/details/person",components:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(6),n.e(15)]).then(n.bind(null,1387))}},{path:"/form/index",components:function(){return Promise.all([n.e(0),n.e(18),n.e(24)]).then(n.bind(null,1388))}},{path:"/icons",components:function(){return n.e(23).then(n.bind(null,1389))}},{path:"/list/card",components:function(){return Promise.all([n.e(3),n.e(5),n.e(6),n.e(13),n.e(25)]).then(n.bind(null,1390))}},{path:"/list/search",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(19)]).then(n.bind(null,1391))}},{path:"/power/menu",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,1402))}},{path:"/power/type",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,1403))}},{path:"/power/user",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(16)]).then(n.bind(null,1404))}},{path:"/statistics/feedback",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(17)]).then(n.bind(null,1405))}},{path:"/statistics/visitor",components:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(14)]).then(n.bind(null,1406))}}],oe=n(285),ue=Object(oe.a)((function(){return Promise.resolve().then(n.bind(null,1164))})),le=[{path:"/",key:"index",to:"/details/person",components:Y.c},{path:"/result/404",components:ue},{path:"/result/403",status:"403",errTitle:"403",subTitle:"Sorry, you don't have access to this page.",components:ue},{path:"/result/500",status:"500",errTitle:"500",subTitle:"Sorry, the server is reporting an error.",components:ue},{path:"*",title:"\u9875\u9762\u4e0d\u5b58\u5728",key:"404",keepAlive:!0,components:ue}],je=ie.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{components:Object(oe.a)(e.components)})}));je.push.apply(je,le);var be=je,pe=n(25),de=n(26),fe=n(37),he=n(38),Oe=n(39),me=n(1164),ye=["path","title","pageKey","openMenus","setOpenKeys","setSelectedKeys","addOpenedMenuFn","menuList","components"],xe=function(e){Object(he.a)(n,e);var t=Object(Oe.a)(n);function n(){var e;return Object(de.a)(this,n),(e=t.apply(this,arguments)).setInfo=Object(W.a)(G.a.mark((function t(){var n,c,r,a,s,i,o,u,l,j;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,c=n.title,r=n.pageKey,a=n.openMenus,s=n.history,i=n.setOpenKeys,o=n.setSelectedKeys,c){t.next=3;break}return t.abrupt("return");case 3:return document.title=c,u=s.location.pathname+(s.location.hash||s.location.search),l=a.find((function(e){return e.path===u})),o([r]),t.next=9,Object(v.k)(r);case 9:j=t.sent,i(j=j?[j]:[]),e.addMenus(l,r,u,c);case 13:case"end":return t.stop()}}),t)}))),e.componentDidRecover=function(){e.setInfo(),e.scrollToTop()},e.scrollToTop=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},e.addMenus=function(t,n,c,r){t||e.props.addOpenedMenuFn({key:n,path:c,title:r})},e.fellbackStyle={display:"flex",alignItems:"center",justifyContent:"center",minHeight:500,fontSize:24},e.props.cacheLifecycles&&e.props.cacheLifecycles.didRecover(e.componentDidRecover),e}return Object(fe.a)(n,[{key:"componentDidMount",value:function(){this.setInfo(),this.scrollToTop()}},{key:"render",value:function(){var e=this.props,t=e.path,n=(e.title,e.pageKey,e.openMenus,e.setOpenKeys,e.setSelectedKeys,e.addOpenedMenuFn,e.menuList),c=e.components,a=Object(pe.a)(e,ye);return!n.find((function(e){return(e.parentPath||"")+e.path===t}))&&"/"!==t&&"*"!==t?Object(g.jsx)(me.default,Object(p.a)(Object(p.a)({},a),{},{status:"403",errTitle:"\u6743\u9650\u4e0d\u591f",subTitle:"Sorry, you are not authorized to access this page."})):Object(g.jsx)(c,Object(p.a)(Object(p.a)({},a),{},{fallback:Object(g.jsx)(r.a,{style:this.fellbackStyle,tip:"\u9875\u9762\u52a0\u8f7d\u4e2d...."})}))}}]),n}(i.a.Component),ve=Object(m.b)((function(e){return{openMenus:e.menu.openedMenu}}),(function(e){return{addOpenedMenuFn:function(t){return e(Object(L.a)(t))},setSelectedKeys:function(t){return e(Object(L.d)(t))},setOpenKeys:function(t){return e(Object(L.c)(t))}}}))(xe);var ge=Object(m.b)(null,(function(e){return{setMenuList:function(t){return e(Object(L.e)(t))}}}))((function(e){var t=function(e){var t=Object(s.useState)([]),n=Object(a.a)(t,2),c=n[0],r=n[1],i=Object(s.useState)(null),o=Object(a.a)(i,2),u=o[0],l=o[1],j=Object(s.useState)([]),b=Object(a.a)(j,2),d=b[0],f=b[1];return Object(s.useEffect)((function(){e&&"function"===typeof e&&Object($.b)().then((function(t){var n=t.data,c=Object(v.o)(n),a=be.map((function(e){var t=c.find((function(t){return(t.parentPath||"")+t.path===e.path}));return t?e=Object(p.a)(Object(p.a)({},t),e):e.key=e.path,e}));c&&c.length&&(e(Object(v.n)(be,n)),r(c),f(a))}))}),[e]),Object(s.useEffect)((function(){if(c.length&&d.length){var e=d.map((function(e){var t=e.key,n=e.path,r="true"===e.keepAlive?se.CacheRoute:Y.d;return Object(g.jsx)(r,{exact:!0,path:n,render:function(n){return Object(g.jsx)(ve,Object(p.a)(Object(p.a)(Object(p.a)({},n),e),{},{menuList:c,pageKey:t}))}},t)}));l(e)}}),[c,d]),{routerBody:u}}(e.setMenuList),n=t.routerBody;return Object(g.jsx)(se.CacheSwitch,{children:n})})),ke=l.a.Content,Me=function(e){var t=e.visibel;return Object(g.jsxs)(l.a,{className:"my-layout-body",children:[Object(g.jsx)(w,{children:Object(g.jsx)(A,{})}),Object(g.jsx)(l.a,{children:Object(g.jsxs)(l.a,{className:"layout-content-wrap",children:[t.topMenu&&Object(g.jsx)(ce,{}),Object(g.jsx)(ke,{className:" layout-content-body",children:Object(g.jsx)(ge,{})}),t.footer&&Object(g.jsx)(ae,{})]})})]})},Ne=l.a.Content,we=function(e){var t=e.visibel;return Object(g.jsxs)(l.a,{className:"my-layout-body",children:[Object(g.jsx)(w,{}),Object(g.jsxs)(l.a,{children:[Object(g.jsx)(A,{}),Object(g.jsxs)(l.a,{className:"layout-content-wrap",children:[t.topMenu&&Object(g.jsx)(ce,{}),Object(g.jsx)(Ne,{className:" layout-content-body",children:Object(g.jsx)(ge,{})}),t.footer&&Object(g.jsx)(ae,{})]})]})]})},Ke=l.a.Content,Se=function(e){var t=e.visibel;return Object(g.jsxs)(l.a,{className:"my-layout-body twoflanks",children:[Object(g.jsx)(A,{}),Object(g.jsxs)(l.a,{className:"layout-content-wrap reset-padding",children:[Object(g.jsx)(w,{}),t.topMenu&&Object(g.jsx)(ce,{className:"top-menu"}),Object(g.jsx)(Ke,{className:"layout-content-body",children:Object(g.jsx)(ge,{})}),t.footer&&Object(g.jsx)(ae,{})]})]})};n(1178);var Te=Object(m.b)((function(e){return{LayoutMode:e.layout,visibel:e.componentsVisible}}),null)((function(e){var t=e.LayoutMode,n=e.visibel;switch(t){case q.a:return Object(g.jsx)(Me,{visibel:n});case q.b:return Object(g.jsx)(we,{visibel:n});case q.c:return Object(g.jsx)(Se,{visibel:n});default:return null}})),Ie=(n(991),n(959)),Pe=n.n(Ie),Ce=(n(897),n(898)),Le=n.n(Ce),qe=(n(871),n(874)),Fe=n.n(qe),_e=n(266),Ee=(n(1182),[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]),ze=[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}];var Re=Object(m.b)(null,(function(e){return{setUserInfo:function(t){return e(x(t))}}}))((function(e){var t=function(e){var t=Object(s.useState)(!1),n=Object(a.a)(t,2),c=n[0],r=n[1];return{btnLoad:c,onFinish:function(t){r(!0),Object(_e.s)(t).then((function(n){var c=n.data,a=n.msg,s=n.status,i=n.token;r(!1),1!==s&&(Object(v.q)(i),c.isLogin=!0,V.a.success(a),t.remember&&Object(v.r)(c),e(c))})).catch((function(){r(!1)}))}}}(e.setUserInfo),n=t.btnLoad,c=t.onFinish;return Object(g.jsx)("div",{className:"login-container",children:Object(g.jsxs)("div",{className:"wrapper",children:[Object(g.jsx)("div",{className:"title",children:"react-ant-admin"}),Object(g.jsx)("div",{className:"welcome",children:"\u6b22\u8fce\u4f7f\u7528\uff0c\u8bf7\u5148\u767b\u5f55"}),Object(g.jsxs)(Le.a,{className:"login-form",initialValues:Object(p.a)({remember:!0},Object(v.j)()),onFinish:c,children:[Object(g.jsx)(Le.a.Item,{name:"account",rules:Ee,children:Object(g.jsx)(Fe.a,{prefix:Object(g.jsx)(O.a,{type:"icon_nickname"}),placeholder:"\u8d26\u53f7:admin/user"})}),Object(g.jsx)(Le.a.Item,{name:"pswd",rules:ze,children:Object(g.jsx)(Fe.a,{prefix:Object(g.jsx)(O.a,{type:"icon_locking"}),type:"password",placeholder:"\u5bc6\u7801:admin123/user123"})}),Object(g.jsx)(Le.a.Item,{children:Object(g.jsx)(Le.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(g.jsx)(Pe.a,{children:"\u8bb0\u4f4f\u6211"})})}),Object(g.jsxs)(Le.a.Item,{className:"btns",children:[Object(g.jsx)(C.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:n,children:"\u767b\u5f55"}),Object(g.jsx)(C.a,{htmlType:"reset",children:"\u91cd\u7f6e"})]})]})]})})}));t.default=Object(m.b)((function(e){return{userInfo:e.user}}),(function(e){return{setUser:function(t){return e(x(t))}}}))((function(e){var t=e.userInfo,n=e.setUser,c=Object(s.useState)(!0),i=Object(a.a)(c,2),u=i[0],l=i[1];return Object(s.useEffect)((function(){if(!t){var e=Object(v.j)();return e&&!0===e.isLogin&&n(e),l(!1)}l(!1)}),[]),u?Object(g.jsx)(r.a,{size:"large",wrapperClassName:"loading-page",tip:"Loading...",children:Object(g.jsx)("div",{className:"loading-page"})}):t?Object(g.jsx)(o.BrowserRouter,{basename:$.a,children:Object(g.jsx)(Te,{})}):Object(g.jsx)(Re,{})}))},889:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o}));var c=n(111),r=function(e){return{type:c.a,menuItem:e}},a=function(e){return{type:c.c,keys:e}},s=function(e){return{type:c.d,keys:e}},i=function(e){return{type:c.b,key:e}},o=function(e){return{type:c.e,list:e}}}}]);